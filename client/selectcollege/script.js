// persons data
fullname=""
percentile=0
gender=true//girl
locations=""

data = {
    "mumbai": [
        { "nav": "IIT Bombay", "cutoffg": 98, "cutoffb": 99, "seats": 120 },
        { "nav": "Veermata Jijabai Technological Institute (VJTI)", "cutoffg": 90, "cutoffb": 91, "seats": 115 },
        { "nav": "Sardar Patel Institute of Technology (SPIT)", "cutoffg": 86, "cutoffb": 87, "seats": 110 },
        { "nav": "KJ Somaiya College of Engineering", "cutoffg": 84, "cutoffb": 85, "seats": 105 },
        { "nav": "Dwarkadas J. Sanghvi College of Engineering", "cutoffg": 78, "cutoffb": 79, "seats": 100 },
        { "nav": "Thadomal Shahani Engineering College", "cutoffg": 65, "cutoffb": 66, "seats": 95 },
        { "nav": "Atharva College of Engineering", "cutoffg": 55, "cutoffb": 56, "seats": 90 },
        { "nav": "Rajiv Gandhi Institute of Technology", "cutoffg": 49, "cutoffb": 50, "seats": 85 },
        { "nav": "Fr. Conceicao Rodrigues College of Engineering", "cutoffg": 70, "cutoffb": 71, "seats": 105 },
        { "nav": "Rizvi College of Engineering", "cutoffg": 60, "cutoffb": 61, "seats": 90 }
    ],
    "pune": [
        { "nav": "College of Engineering Pune (COEP)", "cutoffg": 95, "cutoffb": 96, "seats": 120 },
        { "nav": "MIT World Peace University", "cutoffg": 88, "cutoffb": 89, "seats": 115 },
        { "nav": "Vishwakarma Institute of Technology", "cutoffg": 85, "cutoffb": 84, "seats": 110 },
        { "nav": "Pune Institute of Computer Technology (PICT)", "cutoffg": 82, "cutoffb": 83, "seats": 105 },
        { "nav": "Sinhgad College of Engineering", "cutoffg": 79, "cutoffb": 80, "seats": 100 },
        { "nav": "Bharati Vidyapeeth College of Engineering", "cutoffg": 62, "cutoffb": 63, "seats": 95 },
        { "nav": "D.Y. Patil College of Engineering", "cutoffg": 58, "cutoffb": 59, "seats": 90 },
        { "nav": "Marathwada Mitra Mandal College of Engineering", "cutoffg": 45, "cutoffb": 46, "seats": 85 },
        { "nav": "AISSMS College of Engineering", "cutoffg": 75, "cutoffb": 76, "seats": 100 },
        { "nav": "MIT Academy of Engineering", "cutoffg": 68, "cutoffb": 69, "seats": 90 }
    ],
    "pimpri chinchwad": [
        { "nav": "Pimpri Chinchwad College of Engineering (PCCOE)", "cutoffg": 92, "cutoffb": 93, "seats": 120 },
        { "nav": "Dr. D.Y. Patil Institute of Technology", "cutoffg": 87, "cutoffb": 88, "seats": 115 },
        { "nav": "Rajarshi Shahu College of Engineering", "cutoffg": 83, "cutoffb": 82, "seats": 110 },
        { "nav": "Indira College of Engineering and Management", "cutoffg": 80, "cutoffb": 81, "seats": 105 },
        { "nav": "Genba Sopanrao Moze College of Engineering", "cutoffg": 76, "cutoffb": 77, "seats": 100 },
        { "nav": "G.H. Raisoni College of Engineering and Management", "cutoffg": 68, "cutoffb": 69, "seats": 95 },
        { "nav": "Dr. D.Y. Patil School of Engineering", "cutoffg": 54, "cutoffb": 55, "seats": 90 },
        { "nav": "S.B. Patil College of Engineering", "cutoffg": 48, "cutoffb": 49, "seats": 85 },
        { "nav": "Pimpri Chinchwad Polytechnic", "cutoffg": 66, "cutoffb": 67, "seats": 100 },
        { "nav": "Nutan Maharashtra Institute of Engineering and Technology", "cutoffg": 59, "cutoffb": 60, "seats": 90 }
    ],
    "sangli": [
        { "nav": "Walchand College of Engineering", "cutoffg": 94, "cutoffb": 95, "seats": 120 },
        { "nav": "Bharati Vidyapeeth College of Engineering, Sangli", "cutoffg": 89, "cutoffb": 90, "seats": 115 },
        { "nav": "Tatyasaheb Kore Institute of Engineering and Technology", "cutoffg": 84, "cutoffb": 85, "seats": 110 },
        { "nav": "Sharad Institute of Technology College of Engineering", "cutoffg": 81, "cutoffb": 82, "seats": 105 },
        { "nav": "Annasaheb Dange College of Engineering", "cutoffg": 77, "cutoffb": 78, "seats": 100 },
        { "nav": "Padmabhooshan Vasantraodada Patil Institute of Technology", "cutoffg": 62, "cutoffb": 63, "seats": 95 },
        { "nav": "Dr. J.J. Magdum College of Engineering", "cutoffg": 56, "cutoffb": 57, "seats": 90 },
        { "nav": "Sanjeevan Engineering and Technology Institute", "cutoffg": 40, "cutoffb": 41, "seats": 85 },
        { "nav": "Bharati Vidyapeeth's Jawaharlal Nehru Institute of Technology", "cutoffg": 66, "cutoffb": 67, "seats": 100 },
        { "nav": "Dattajirao Kadam Technical Education Society's Textile and Engineering Institute", "cutoffg": 61, "cutoffb": 62, "seats": 90 }
    ],
    "nagpur": [
        { "nav": "Visvesvaraya National Institute of Technology (VNIT)", "cutoffg": 97, "cutoffb": 98, "seats": 120 },
        { "nav": "Shri Ramdeobaba College of Engineering and Management", "cutoffg": 91, "cutoffb": 92, "seats": 115 },
        { "nav": "Yeshwantrao Chavan College of Engineering", "cutoffg": 86, "cutoffb": 87, "seats": 110 },
        { "nav": "Priyadarshini College of Engineering", "cutoffg": 84, "cutoffb": 85, "seats": 105 },
        { "nav": "K.D.K. College of Engineering", "cutoffg": 73, "cutoffb": 74, "seats": 100 },
        { "nav": "St. Vincent Pallotti College of Engineering and Technology", "cutoffg": 61, "cutoffb": 62, "seats": 95 },
        { "nav": "Jhulelal Institute of Technology", "cutoffg": 52, "cutoffb": 53, "seats": 90 },
        { "nav": "Nuva College of Engineering and Technology", "cutoffg": 47, "cutoffb": 48, "seats": 85 },
        { "nav": "G.H. Raisoni Academy of Engineering and Technology", "cutoffg": 66, "cutoffb": 67, "seats": 100 },
        { "nav": "Guru Nanak Institute of Engineering and Technology", "cutoffg": 60, "cutoffb": 61, "seats": 90 }
    ]
}

function isAlphabetOnly(str) {
    return /^[a-zA-Z]+$/.test(str);
  }


function analyse(){
    
    let name=document.getElementById("fullname").value;
    const percentile=parseFloat(document.getElementById("percentile").value);
    let gender=false;
    let location=document.getElementById("location").value;
    console.log(location,"type",typeof(location))
    location=location.toLowerCase()

    if(document.getElementById("female").value==true){
        gender=true;
    }
    ans=[]
   

    name=name.trim()
    if(name==""){
        alert("please enter name")
        return;
    }
    if(!isAlphabetOnly(name)){
        document.getElementById("fullname").value=""
        alert('enter correct name')
        return;
    }
    


    if(percentile<0 || percentile>100){
        alert("please enter apropriate marks (0 to 100)")
        return;
    }

    if(data[location]==undefined){
        alert("this location is not undated in our database sorry for inconvinience")
        return;
    }
    
    
    
    for(i=0;i<data[location].length;i++){
        
        let cutoff = gender ? data[location][i].cutoffg : data[location][i].cutoffb;  
        console.log(gender)

        if (percentile >= cutoff - 4 && percentile <= cutoff + 4) {
            ans.push(data[location][i]);
        }
        
    }
    

    if(ans.length==0){
        alert("there is no collge in our data base which satifies your need")
        return;
    }

    const parent=document.getElementById("inputbox")
    parent.remove()

    document.getElementById("headline-input-page").remove()
    const new_parent=document.createElement("div")
    new_parent.id="new_parent"

    for(i=0;i<ans.length;i++){
        const possiblecollege=document.createElement("div")
        possiblecollege.innerHTML=`<p> ${ans[i].nav}</p>
        <p> available seats: ${ans[i].seats}
        cutoff boys:${ans[i].cutoffb}    
        cutoff girs:${ans[i].cutoffg}
        </p>
        <br>
        `

        new_parent.appendChild(possiblecollege)
    }
    document.body.appendChild(new_parent)
}
